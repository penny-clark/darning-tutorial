<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="style.css"/>
    <title>Darning Tutorial</title>
</head>
<body>
<header>Interactive Darning Tutorial </header>
<div class="items-container">
  <canvas id="myCanvas" width="400" height="400"></canvas>
  <div class="text-container">
<p>If you know how to darn, you can fix your favourite socks instead of putting them in the garbage, and that makes you feel like one million dollars.</p>
<p>To darn, you need to have a darning needle and emroidery thread, yarn, or sashiko thread. </p>
<p> You alse need to put something under the fabric for structural integrity (and stop yourself from sewing it to the fabric on the other side!). If the fabric you are fixing lies pretty flat (like the front of a shirt), you can just put a piece of card stock paper under it while you work. If the fabric will curve (like the heel of a sock), you need a slighty rounded surface, light a lightbulb or darning egg/mushroom. This will stop your weave from being too tight and uncomfortable</p>
<p>But you don't need any supplies to practice on this page!</p>
</div>
</div>
<script>
  const canvas = document.getElementById("myCanvas");
  const ctx = canvas.getContext("2d");
  let needleX = 300;
  let needleY = 300;
  let needleWidth = 7;
  let needleHeight = 60;
  let needleOrientation = "north";

  //needle rotation
  document.addEventListener("keydown", keyDownHandler, false);
  // document.addEventListener("keyup", keyUpHandler, false);

  function keyDownHandler(e) {
    if(e.key == "Right" || e.key == "ArrowRight") {
      needleOrientation = "east";
      needleWidth = 60;
      needleHeight = 7;
    } else if (e.key == "Left" || e.key == "ArrowLeft") {
      needleOrientation = "west";
      needleWidth = -60;
      needleHeight = -7;
        
    } else if (e.key == "Up" || e.key == "ArrowUp") {
      needleOrientation = "north";
      needleWidth = 7;
      needleHeight = 60;
    } else if (e.key == "Down" || e.key == "ArrowDown") {
      needleOrientation = "south";
      needleWidth = -7;
      needleHeight = -60;
    }
  }

  //needle movement
  document.addEventListener("mousemove", mouseMoveHandler, false);

  function mouseMoveHandler(e) {
    let relativeX = e.clientX - canvas.offsetLeft;
    let relativeY = e.clientY - canvas.offsetLeft;
    if ((relativeX > 0 + needleWidth /2 && relativeX < canvas.width) && (relativeY > 0 + needleHeight && relativeY < canvas.height)) {
      needleX = relativeX - needleWidth /2;
      needleY = relativeY - needleHeight;
    }
  }

  //shapes 
  function drawRip() {
    ctx.beginPath();
    ctx.rect(200, 200, 70, 80);
    ctx.fillStyle = "#403e3f";
    ctx.fill();
    ctx.closePath();
  }

  function drawNeedle() {
    ctx.beginPath();
    ctx.rect(needleX, needleY, needleWidth, needleHeight);
    ctx.fillStyle = "#696868";
    ctx.fill();
    ctx.closePath();
  }

  //rendering
  function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height)
    drawRip();
    drawNeedle();
  }
  let interval = setInterval(draw, 9);
  draw();
</script>
<br>
<br>
<div>
  <p><b>INFO</b></p>
  <p> This tutorial uses the canvas element to provide interactive darning instructions </p>
  </div>
</body>
</html>